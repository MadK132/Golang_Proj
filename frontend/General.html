<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ö—É—Ä—Å —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞</title>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/static/styles.css">
  <style>
    .wrapper {
      display: flex;
      width: 100%;
    }

    body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .sidebar {
      width: 250px;
      background: #000000;
      color: white;
      padding-top: 80px; /* Space for header */
      position: fixed;
      left: 0;
      height: 100%;
      z-index: 99;
    }

    .main-content {
      margin-left: 250px;
      width: calc(100% - 250px);
      padding: 20px;
      padding-top: 80px; /* Space for header */
      flex: 1;
    }

    .sidebar-menu {
      padding: 0;
      list-style: none;
    }

    .sidebar-menu li {
      padding: 15px 20px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .sidebar-menu li a {
      color: white;
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .sidebar-menu li:hover {
      background: rgba(255,255,255,0.1);
    }

    .progress-section {
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
    }

    .progress-details {
      font-size: 14px;
    }

    .progress-details p {
      margin: 5px 0;
    }

    .current-level {
      background-color: #28a745;
      color: white;
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 4px;
    }

    .progress-bar {
      background-color: #f0f0f0;
      height: 20px;
      border-radius: 10px;
      overflow: hidden;
    }

    .progress-fill {
      background-color: #28a745;
      height: 100%;
      transition: width 0.3s ease;
    }

    .card {
      border: none;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    .card-title {
      color: #007bff; /* —Å–∏–Ω–∏–π –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã */
      margin-bottom: 1rem;
    }

    /* –¶–≤–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∫–∞—Ä—Ç–æ—á–µ–∫ –≤ —Ç–µ–º–Ω–æ–π —Ç–µ–º–µ */
    .dark-mode .card-title {
      color: #00d084; /* –º—è—Ç–Ω–æ-–∑–µ–ª–µ–Ω—ã–π –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */
    }

    .list-unstyled li {
      margin-bottom: 0.8rem;
      color: #666;
    }

    /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ —Å–ø–∏—Å–∫–æ–≤ –≤ —Ç–µ–º–Ω–æ–π —Ç–µ–º–µ */
    .dark-mode .list-unstyled li {
      color: #b0b0b0;
    }

    .lead {
      color: #666;
      margin-bottom: 2rem;
    }

    .footer {
      margin-top: auto;
      background-color: #000000;
      color: white;
      padding: 20px 0;
    }

    .card-img-top {
      height: 200px;
      object-fit: cover;
    }

    .card {
      border: none;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      overflow: hidden;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
  </style>
</head>
<body class="light-mode">

<header class="header py-3">
  <div class="container d-flex justify-content-between">
    <nav class="nav">
      <div class="nav-logo" style="padding-right: 20%">
        <p>STUDY</p>
      </div>
      <div class="nav-menu" id="navMenu">
        <ul>
          <li><a href="/" class="link">Home</a></li>
          <li><a href="/courses" class="link">Courses</a></li>
          <li><a href="/contact" class="link">Contact us</a></li>
        </ul>
      </div>
      <div class="nav-menu" id="navMenuu">
        <div class="nav-button">
          <ul>
            <li><a href="/login" id="Login" class="link">Log In / Sign Up</a></li>
            <li><span id="userGreeting" style="display: none;"></span></li>
          </ul>
        </div>
      </div>
    </nav>
    <button id="modeToggle" class="btn btn-light position-relative top-0 right-0 m-3">üåô</button>
    <button class="btn" id="logoutBtn" style="display: none;" onclick="logout()">Log Out</button>
  </div>
</header>

<div class="wrapper">
  <!-- Sidebar -->
  <nav class="sidebar">
    <div class="progress-section">
      <h6>–ü—Ä–æ–≥—Ä–µ—Å—Å –∫—É—Ä—Å–∞: <span id="totalProgressText">0%</span></h6>
      <div class="progress-bar">
        <div class="progress-fill" id="totalProgress" style="width: 0%"></div>
      </div>
      <div class="progress-details">
        <div>
          <p>–í–∏–¥–µ–æ: <span id="videoProgressText">0/0 –≤–∏–¥–µ–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ</span></p>
          <p>–¢–µ—Å—Ç—ã: <span id="quizProgressText">0/0 —Ç–µ—Å—Ç–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–æ</span></p>
          <p>–£—Ä–æ–≤–µ–Ω—å —è–∑—ã–∫–∞: <span id="levelText">–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω</span></p>
        </div>
      </div>
    </div>
    <ul class="sidebar-menu">
      <li>
        <a href="/video">
          <span>üì∫</span> –í–∏–¥–µ–æ—É—Ä–æ–∫–∏
        </a>
      </li>
      <li>
        <a href="/quiz">
          <span>üìù</span> –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
        </a>
      </li>
      <li>
        <a href="/russian-quiz">
          <span>üéØ</span> –¢–µ—Å—Ç –Ω–∞ —É—Ä–æ–≤–µ–Ω—å
        </a>
      </li>
    </ul>
  </nav>

  <!-- Main Content -->
  <div class="main-content">
    <div class="container">
      <h1 style="text-align: center">–ö—É—Ä—Å —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞</h1>

      <div class="row mt-4">
        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –æ –≥—Ä–∞–º–º–∞—Ç–∏–∫–µ -->
        <div class="col-md-4 mb-4">
          <div class="card h-100">
            <img src="/static/–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞ .jpg" class="card-img-top" alt="–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞">
            <div class="card-body">
              <h5 class="card-title">–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞</h5>
              <p class="card-text">–ò–∑—É—á–∏—Ç–µ –æ—Å–Ω–æ–≤—ã —Ä—É—Å—Å–∫–æ–π –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏: –ø–∞–¥–µ–∂–∏, –≤—Ä–µ–º–µ–Ω–∞ –≥–ª–∞–≥–æ–ª–æ–≤, —Ä–æ–¥ —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ. –ù–∞—à–∏ —É—Ä–æ–∫–∏ –ø–æ–º–æ–≥—É—Ç –≤–∞–º –æ—Å–≤–æ–∏—Ç—å —Å–ª–æ–∂–Ω—É—é, –Ω–æ –ª–æ–≥–∏—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞.</p>
              <ul class="list-unstyled">
                <li>‚úì 6 –ø–∞–¥–µ–∂–µ–π</li>
                <li>‚úì 3 –≤—Ä–µ–º–µ–Ω–∏ –≥–ª–∞–≥–æ–ª–æ–≤</li>
                <li>‚úì –†–æ–¥ —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –æ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–∏ -->
        <div class="col-md-4 mb-4">
          <div class="card h-100">
            <img src="/static/–ü—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ .jpg" class="card-img-top" alt="–ü—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ">
            <div class="card-body">
              <h5 class="card-title">–ü—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ</h5>
              <p class="card-text">–û—Å–≤–æ–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ —Ä—É—Å—Å–∫–∏—Ö –∑–≤—É–∫–æ–≤ –∏ —Å–ª–æ–≤. –ù–∞—É—á–∏—Ç–µ—Å—å –≥–æ–≤–æ—Ä–∏—Ç—å —á–∏—Å—Ç–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É—è –≤–∏–¥–µ–æ—É—Ä–æ–∫–∏ —Å –Ω–æ—Å–∏—Ç–µ–ª—è–º–∏ —è–∑—ã–∫–∞.</p>
              <ul class="list-unstyled">
                <li>‚úì 33 –±—É–∫–≤—ã –∞–ª—Ñ–∞–≤–∏—Ç–∞</li>
                <li>‚úì –£–¥–∞—Ä–µ–Ω–∏—è –≤ —Å–ª–æ–≤–∞—Ö</li>
                <li>‚úì –ò–Ω—Ç–æ–Ω–∞—Ü–∏—è –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è—Ö</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –æ —Å–ª–æ–≤–∞—Ä–Ω–æ–º –∑–∞–ø–∞—Å–µ -->
        <div class="col-md-4 mb-4">
          <div class="card h-100">
            <img src="/static/–°–ª–æ–≤–∞—Ä–Ω—ã–π –∑–∞–ø–∞—Å.jpg" class="card-img-top" alt="–°–ª–æ–≤–∞—Ä–Ω—ã–π –∑–∞–ø–∞—Å">
            <div class="card-body">
              <h5 class="card-title">–°–ª–æ–≤–∞—Ä–Ω—ã–π –∑–∞–ø–∞—Å</h5>
              <p class="card-text">–†–∞—Å—à–∏—Ä—å—Ç–µ —Å–≤–æ–π —Å–ª–æ–≤–∞—Ä–Ω—ã–π –∑–∞–ø–∞—Å —Å –ø–æ–º–æ—â—å—é –Ω–∞—à–∏—Ö —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —É—Ä–æ–∫–æ–≤. –û—Ç –±–∞–∑–æ–≤—ã—Ö —Å–ª–æ–≤ –¥–æ —Å–ª–æ–∂–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π - –º—ã –ø–æ–º–æ–∂–µ–º –≤–∞–º –æ—Å–≤–æ–∏—Ç—å –±–æ–≥–∞—Ç—Å—Ç–≤–æ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞.</p>
              <ul class="list-unstyled">
                <li>‚úì –ë–∞–∑–æ–≤–∞—è –ª–µ–∫—Å–∏–∫–∞</li>
                <li>‚úì –ò–¥–∏–æ–º—ã –∏ —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã</li>
                <li>‚úì –†–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div class="row mt-2">
        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –æ –ø—Ä–∞–∫—Ç–∏–∫–µ -->
        <div class="col-md-12 mb-4">
          <div class="card h-100">
            <div class="card-body d-flex">
              <div class="col-md-4">
                <img src="/static/–ü—Ä–∞–∫—Ç–∏–∫–∞.jpg" class="img-fluid rounded" alt="–ü—Ä–∞–∫—Ç–∏–∫–∞">
              </div>
              <div class="col-md-8">
                <h5 class="card-title">–ü—Ä–∞–∫—Ç–∏–∫–∞ —è–∑—ã–∫–∞</h5>
                <p class="card-text">–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ —Å –ø–æ–º–æ—â—å—é –Ω–∞—à–∏—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –∏ —Ç–µ—Å—Ç–æ–≤.</p>
                <div class="row">
                  <div class="col-md-6">
                    <ul class="list-unstyled">
                      <li>‚úì –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è</li>
                      <li>‚úì –¢–µ—Å—Ç—ã –ø–æ –≥—Ä–∞–º–º–∞—Ç–∏–∫–µ</li>
                    </ul>
                  </div>
                  <div class="col-md-6">
                    <ul class="list-unstyled">
                      <li>‚úì –¢–µ—Å—Ç—ã –Ω–∞ —Å–ª–æ–≤–∞—Ä–Ω—ã–π –∑–∞–ø–∞—Å</li>
                      <li>‚úì –¢–µ—Å—Ç –Ω–∞ –∑–Ω–∞–Ω–∏–µ —è–∑—ã–∫–∞</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<footer class="footer text-center">
  <p class="m-0">SE-2304. All Rights Reserved.</p>
</footer>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –º–∞—Å—Å–∏–≤—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  const defaultVideoLessons = [
      {
          id: 'video1',
          title: '–í–≤–µ–¥–µ–Ω–∏–µ –≤ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫',
          description: '–ë–∞–∑–æ–≤—ã–µ –ø–æ–Ω—è—Ç–∏—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞, –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –∞–ª—Ñ–∞–≤–∏—Ç–æ–º –∏ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ–º.',
          videoUrl: 'https://www.youtube.com/embed/G0LJBUo0LHk'
      },
      {
          id: 'video2',
          title: '–ê–ª—Ñ–∞–≤–∏—Ç –∏ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ',
          description: '–ò–∑—É—á–µ–Ω–∏–µ —Ä—É—Å—Å–∫–æ–≥–æ –∞–ª—Ñ–∞–≤–∏—Ç–∞ –∏ –ø—Ä–∞–≤–∏–ª –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—è.',
          videoUrl: 'https://www.youtube.com/embed/XQHUZf8g3Uw'
      },
      {
          id: 'video3',
          title: '–ë–∞–∑–æ–≤–∞—è –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞',
          description: '–û—Å–Ω–æ–≤—ã –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞.',
          videoUrl: 'https://www.youtube.com/embed/rg-v-QHz4Xw'
      }
  ];

  const defaultQuizLessons = [
      {
          id: 'quiz1',
          title: '–ë–∞–∑–æ–≤–∞—è –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞',
          description: '–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞–Ω–∏–π –±–∞–∑–æ–≤–æ–π –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞.'
      },
      {
          id: 'quiz2',
          title: '–°—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ',
          description: '–¢–µ—Å—Ç –Ω–∞ –∑–Ω–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –∏ –∏—Ö —Ä–æ–¥–æ–≤.'
      },
      {
          id: 'quiz3',
          title: '–ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ',
          description: '–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞–Ω–∏–π –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã—Ö –∏ –∏—Ö —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è.'
      },
      {
          id: 'quiz4',
          title: '–ì–ª–∞–≥–æ–ª—ã –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏',
          description: '–¢–µ—Å—Ç –Ω–∞ —Å–ø—Ä—è–∂–µ–Ω–∏–µ –≥–ª–∞–≥–æ–ª–æ–≤ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–º –≤—Ä–µ–º–µ–Ω–∏.'
      },
      {
          id: 'quiz5',
          title: '–ì–ª–∞–≥–æ–ª—ã –ø—Ä–æ—à–µ–¥—à–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏',
          description: '–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞–Ω–∏–π –≥–ª–∞–≥–æ–ª–æ–≤ –≤ –ø—Ä–æ—à–µ–¥—à–µ–º –≤—Ä–µ–º–µ–Ω–∏.'
      }
  ];

  // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ localStorage –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ
  if (!localStorage.getItem('videoLessons')) {
      localStorage.setItem('videoLessons', JSON.stringify(defaultVideoLessons));
  }
  if (!localStorage.getItem('quizLessons')) {
      localStorage.setItem('quizLessons', JSON.stringify(defaultQuizLessons));
  }

  // –û–±—ä–µ–¥–∏–Ω–∏–º –≤—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü–∏—é DOMContentLoaded
  document.addEventListener('DOMContentLoaded', function() {
    const savedTheme = localStorage.getItem("theme");
    const body = document.body;
    const sidebar = document.querySelector(".sidebar");
    const modeToggleButton = document.getElementById("modeToggle");
    const progressFill = document.querySelector(".progress-fill");

    if (savedTheme) {
        body.classList.remove("light-mode", "dark-mode");
        body.classList.add(savedTheme);
        sidebar.classList.remove("light-mode", "dark-mode");
        sidebar.classList.add(savedTheme);

        if (savedTheme === "dark-mode") {
            modeToggleButton.textContent = "üåû";
            progressFill.style.backgroundColor = "#4CAF50"; // –∑–µ–ª–µ–Ω—ã–π –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã
        } else {
            modeToggleButton.textContent = "üåô";
            progressFill.style.backgroundColor = "#007bff"; // —Å–∏–Ω–∏–π –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã
        }
    } else {
        body.classList.add("light-mode");
        sidebar.classList.add("light-mode");
        modeToggleButton.textContent = "üåô";
        progressFill.style.backgroundColor = "#007bff"; // —Å–∏–Ω–∏–π –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    }

    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã
    modeToggleButton.addEventListener("click", toggleMode);

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
    const currentUser = localStorage.getItem("currentUser");
    if (currentUser) {
      document.getElementById("Login").style.display = "none";
      document.getElementById("userGreeting").style.display = "inline";
      document.getElementById("userGreeting").textContent = `${currentUser}`;
      document.getElementById("logoutBtn").style.display = "inline";
    } else {
      document.getElementById("Login").style.display = "inline";
      document.getElementById("userGreeting").style.display = "none";
      document.getElementById("logoutBtn").style.display = "none";
    }

    // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
    updateProgress();
  });

  // –§—É–Ω–∫—Ü–∏—è toggleMode –æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
  function toggleMode() {
    const body = document.body;
    const modeToggleButton = document.getElementById("modeToggle");
    const sidebar = document.querySelector(".sidebar");
    const progressFill = document.querySelector(".progress-fill");
    const isLightMode = body.classList.contains("light-mode");

    if (isLightMode) {
        // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ —Ç–µ–º–Ω—É—é —Ç–µ–º—É
        body.classList.remove("light-mode");
        body.classList.add("dark-mode");
        sidebar.classList.remove("light-mode");
        sidebar.classList.add("dark-mode");
        progressFill.style.backgroundColor = "#4CAF50"; // –∑–µ–ª–µ–Ω—ã–π –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã
        modeToggleButton.textContent = "üåû";
        localStorage.setItem("theme", "dark-mode");
    } else {
        // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É
        body.classList.remove("dark-mode");
        body.classList.add("light-mode");
        sidebar.classList.remove("dark-mode");
        sidebar.classList.add("light-mode");
        progressFill.style.backgroundColor = "#007bff"; // —Å–∏–Ω–∏–π –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã
        modeToggleButton.textContent = "üåô";
        localStorage.setItem("theme", "light-mode");
    }
  }

  function logout() {
    localStorage.removeItem("currentUser");
    window.location.reload();
  }

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
  async function updateProgress() {
    const currentUser = localStorage.getItem('currentUser');
    if (!currentUser) return;

    // –ü–æ–ª—É—á–∞–µ–º –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ localStorage
    const videoLessons = JSON.parse(localStorage.getItem('videoLessons'));
    const quizLessons = JSON.parse(localStorage.getItem('quizLessons'));
    let videoProgress = 0;

    try {
        // –ü–æ–ª—É—á–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –≤–∏–¥–µ–æ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
        const videoResponse = await fetch(`videos/completed/${currentUser}/russian`);
        if (videoResponse.ok) {
            const videoData = await videoResponse.json();
            const completedCount = videoData.length || 0;
            document.getElementById('videoProgressText').textContent = 
                `${completedCount}/${videoLessons.length} –≤–∏–¥–µ–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ`;
            videoProgress = completedCount;
        }

        // –ü–æ–ª—É—á–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —Ç–µ—Å—Ç–∞–º
        const quizResponse = await fetch(`/quizzes/completed/${currentUser}/russian`);
        if (quizResponse.ok) {
            const quizData = await quizResponse.json();
            const completedQuizzes = quizData.length || 0;
            document.getElementById('quizProgressText').textContent = 
                `${completedQuizzes}/${quizLessons.length} —Ç–µ—Å—Ç–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–æ`;

            // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –∏ –≤–∏–¥–µ–æ
            const totalCompleted = videoProgress + completedQuizzes;
            const totalItems = videoLessons.length + quizLessons.length;
            const totalProgress = (totalCompleted / totalItems) * 100;
            document.getElementById('totalProgress').style.width = `${totalProgress}%`;
            document.getElementById('totalProgressText').textContent = 
                `${Math.round(totalProgress)}%`;
        }

        // –ü–æ–ª—É—á–∞–µ–º —É—Ä–æ–≤–µ–Ω—å —è–∑—ã–∫–∞
        const levelResponse = await fetch(`/update-progress/${currentUser}/russian`);
        if (levelResponse.ok) {
            const levelData = await levelResponse.json();
            document.getElementById('levelText').textContent = 
                levelData.language_level || '–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω';
        }

    } catch (error) {
        console.error('Error updating progress:', error);
    }
  }

  function showResources() {
    alert('Resources section coming soon!');
  }

  function showNotes() {
    alert('Notes section coming soon!');
  }

  function showGrammar() {
    alert('–†–∞–∑–¥–µ–ª –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω!');
  }

  function showVocabulary() {
    alert('–†–∞–∑–¥–µ–ª —Å–ª–æ–≤–∞—Ä–Ω–æ–≥–æ –∑–∞–ø–∞—Å–∞ —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω!');
  }
</script>

</body>
</html>
